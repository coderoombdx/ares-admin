<script lang="ts">
    export let time;

    const minutesAndSecond = (currentTime: number) => {
        const a = currentTime / 60
        const minutes = parseInt(a.toString()).toString().padStart(2, '0');
        const secondsLeft = (currentTime - minutes * 60).toString().padStart(2, '0');
        return {minutes, secondsLeft}
    }

    $: color1 = "#FFF"
    $: color2 = "#000"
</script>

<div class="timer-container">

    <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M21.9665 128.033C7.90127 113.968 -0.000475793 94.8912 -0.000488281 75C-0.00050077 55.1088 7.90122 36.0323 21.9664 21.967L23.9329 23.9335C10.3892 37.4772 2.78052 55.8464 2.78053 75C2.78054 94.1537 10.3893 112.523 23.9329 126.066L21.9665 128.033Z"
              fill="#00607E"/>
        <path d="M128.033 21.967C142.098 36.0323 149.999 55.1088 150 75C150 94.8912 142.098 113.968 128.033 128.033L126.066 126.066C139.61 112.523 147.219 94.1536 147.218 75C147.218 55.8463 139.61 37.4772 126.066 23.9335L128.033 21.967Z"
              fill="#00607E"/>
        <path d="M23.4474 29.5858C13.2843 41.8939 7.60474 57.4549 7.38331 73.5983C7.16188 89.7418 12.4124 105.461 22.2339 118.059L24.9586 115.814C15.6443 103.866 10.6649 88.9588 10.8748 73.6489C11.0848 58.3391 16.4711 43.5817 26.1094 31.9091L23.4474 29.5858Z"
              fill="#00607E"/>
        <path d="M126.551 119.571C136.714 107.263 142.394 91.7024 142.615 75.5589C142.837 59.4154 137.586 43.696 127.765 31.0982L125.04 33.3434C134.355 45.2907 139.334 60.1984 139.124 75.5083C138.914 90.8181 133.528 105.576 123.889 117.248L126.551 119.571Z"
              fill="#00607E"/>
        <path
                d="M94.243 7.9306C80.8369 3.83927 66.5268 4.12154 53.2833 8.73855L55.2223 14.6174C67.2833 10.4127 80.3157 10.1556 92.5247 13.8816L94.243 7.9306Z"
                fill="#E11717"
                id="reset-button"
        />
        <path d="M128.218 74.9214C128.218 105.328 104.242 129.978 74.6661 129.978C45.0902 129.978 21.1143 105.328 21.1143 74.9214C21.1143 44.5147 45.0902 19.8652 74.6661 19.8652C104.242 19.8652 128.218 44.5147 128.218 74.9214ZM26.6083 74.9214C26.6083 102.209 48.1245 124.329 74.6661 124.329C101.208 124.329 122.724 102.209 122.724 74.9214C122.724 47.6342 101.208 25.5136 74.6661 25.5136C48.1245 25.5136 26.6083 47.6342 26.6083 74.9214Z"
              fill="#00607E"/>
        <path d="M135.18 74.6459C135.18 108.853 108.207 136.584 74.9338 136.584C41.6609 136.584 14.688 108.853 14.688 74.6459C14.688 40.4384 41.6609 12.7078 74.9338 12.7078C108.207 12.7078 135.18 40.4384 135.18 74.6459ZM19.5023 74.6459C19.5023 106.12 44.3198 131.635 74.9338 131.635C105.548 131.635 130.365 106.12 130.365 74.6459C130.365 43.172 105.548 17.6573 74.9338 17.6573C44.3198 17.6573 19.5023 43.172 19.5023 74.6459Z"
              fill="#C1CFFF"/>
        <ellipse cx="74.9337" cy="74.6461" rx="46.8578" ry="48.1741" fill="#0D1E38" fill-opacity="0.88"/>
    </svg>

    <div class="timer-text-container">
        <div class="timer text-center">
            <div class="d-flex flex-row">
            <span>
                {minutesAndSecond(time).minutes}
            </span>
                <span>
                :
            </span>
                <span>
               {minutesAndSecond(time).secondsLeft}
            </span>
            </div>
        </div>
    </div>

</div>

<style>

    .timer-container {
        position: relative;
    }

    .timer-text-container {
        position: absolute;
        top: 55px;
        left: 43px;
    }

    .timer {
        position: absolute;
        top: 0;
        color: #e7c2d5;
        font-size: 25px;
        font-weight: 700;
    }

    #reset-button {
        cursor: pointer;
    }

</style>
